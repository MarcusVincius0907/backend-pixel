import{_ as E,d as z,h as m,x as y,y as T,q as D,c as u,a as t,b as a,w as l,k as v,r as n,o as d,F as k,l as $,g as A,e as i,t as b,m as S}from"./index.f324766f.js";import{f as P}from"./fieldValidations.55b02bef.js";import{f as R}from"./formatExpDate.459eb248.js";import{P as N}from"./PixelSumCard.e0103430.js";var p=(e=>(e.CREDIT_CARD="CREDIT_CARD",e.PIX="PIX",e.PAYMENT_SLIP="PAYMENT_SLIP",e))(p||{}),I="/assets/pix-logo.545db358.png";const F=z({name:"checkout",components:{PixelSumCard:N},setup(){const e=m({cardNumber:"",cardName:"",expirationDate:"",cvv:""});return{tabTitles:["Cart\xE3o de Cr\xE9dito","Pix","Boleto"],tabValue:m(0),formData:e,fieldsValidations:P,paymentMethod:m(p.CREDIT_CARD),responseMessage:m(""),showMessageModal:m(!1)}},methods:{finalizeQuote(){this.$store.commit(y.SET_CHECKOUT_REQUEST,{paymentMethod:this.paymentMethod}),this.$store.dispatch(T.MAKE_CHECKOUT_REQUEST)},onTabChange(){this.tabValue===0?this.paymentMethod=p.CREDIT_CARD:this.tabValue===1?this.paymentMethod=p.PIX:this.tabValue===2&&(this.paymentMethod=p.PAYMENT_SLIP)},onKeyup(e){var s;this.formData.expirationDate=(s=R(e,this.formData.expirationDate))!=null?s:""},goToMyOrders(){this.$router.push({name:"my-pixel"})}},computed:{cart(){return this.$store.state.CartModule.cart},user(){return this.$store.state.user},needToGetCart(){var e,s;return!this.cart&&((e=this.user)==null?void 0:e._id)&&(this.$store.state.SortitionModule.selectedSortition||((s=this.$route.query)==null?void 0:s.sortitionId))},checkoutResponse(){return this.$store.state.CheckoutModule.checkoutResponse}},watch:{needToGetCart(e){var s;e&&this.$store.dispatch(D.GET_CART,this.$store.state.SortitionModule.selectedSortition||((s=this.$route.query)==null?void 0:s.sortitionId))},checkoutResponse(e){if(e){this.responseMessage="Obrigado por participar, voc\xEA adquiriu os pixels: ";let s="";e.availablePixels.forEach((r,c,L)=>{c+1==L.length?s+=r.uuid.substring(0,5):s+=`${r.uuid.substring(0,5)}, `}),this.responseMessage+=s,s="",e.unavailablePixels.length>0&&(this.responseMessage=`
 Mas inflezmente estes n\xE3o estavam dispon\xEDvies:  `,e.unavailablePixels.forEach((r,c,L)=>{c+1==L.length?s+=r.uuid.substring(0,5):s+=`${r.uuid.substring(0,5)}, `}),this.responseMessage+=s),this.showMessageModal=!0}}}}),U={class:"tw-w-full tw-h-full tw-flex tw-flex-col tw-items-center"},q={class:"tw-mb-5 tw-max-w-[885px] tw-w-full"},B=t("div",{class:"tw-text-xl tw-text-center tw-font-bold"},"Checkout",-1),O={key:0,class:"tw-flex tw-flex-col md:tw-flex-row tw-max-w-[885px] tw-w-full"},K={class:"tw-mt-5 md:tw-mt-0 md:tw-max-w-sm"},Q={class:"md:tw-pl-5 tw-mt-5 md:tw-mt-0 tw-max-w-[500px] tw-w-full"},j={class:"tw-bg-white"},G={key:0,class:"row"},X={class:"flex xs12"},Y={class:"mb-2"},H={class:"mb-2"},J={class:"mb-2 tw-flex"},W={class:"tw-flex tw-justify-center"},Z=i(" Finalizar compra"),ee={key:1,class:"row"},te={class:"flex xs12"},se=t("div",{class:""},[t("div",{class:"tw-max-w-[250px] tw-m-auto tw-mb-5"},[t("img",{src:I,alt:""})]),t("div",{class:"tw-ml-10 tw-max-w-[360px]"},[t("div",{class:"tw-mb-2"},[t("i",{class:"fa-solid fa-check"}),t("span",{class:"tw-ml-2 tw-text-sm"},"Copie ou fa\xE7a a leitura do c\xF3digo QR Code atrav\xE9s do site ou app do seu banco")]),t("div",{class:"tw-mb-2"},[t("i",{class:"fa-solid fa-check"}),t("span",{class:"tw-ml-2 tw-text-sm"},"O c\xF3digo \xE9 v\xE1lido por 30 minutos")]),t("div",{class:"tw-mb-2"},[t("i",{class:"fa-solid fa-check"}),t("span",{class:"tw-ml-2 tw-text-sm"},"O pedido s\xF3 \xE9 confirmado ap\xF3s o pagamento")])])],-1),oe={class:"tw-flex tw-justify-center"},ae=i(" Finalizar compra"),le={class:"flex xs12"},ie=t("div",null,[t("div",{class:"tw-flex tw-items-center tw-mb-3"},[t("svg",{class:"tw-max-w-[40px]",id:"icon-print-rounded",viewBox:"0 0 64 64"},[t("path",{fill:"#666",d:"M 32 0 A 32 32 0 0 0 0 32 A 32 32 0 0 0 32 64 A 32 32 0 0 0 64 32 A 32 32 0 0 0 32 0 z M 20 14 L 44 14 L 44 21 L 20 21 L 20 14 z M 16.5 23 L 47.5 23 C 49.4 23 51 24.6 51 26.5 L 51 41.5 C 51 43.4 49.4 45 47.5 45 L 46 45 L 46 30 L 18 30 L 18 45 L 16.5 45 C 14.6 45 13 43.4 13 41.5 L 13 26.5 C 13 24.6 14.6 23 16.5 23 z M 21 33 L 43 33 L 43 52 L 21 52 L 21 33 z M 23 36 L 23 37 L 41 37 L 41 36 L 23 36 z M 23 39 L 23 40 L 41 40 L 41 39 L 23 39 z M 23 42 L 23 43 L 41 43 L 41 42 L 23 42 z M 23 45 L 23 46 L 41 46 L 41 45 L 23 45 z M 23 48 L 23 49 L 41 49 L 41 48 L 23 48 z "})]),t("span",{class:"ml-3"},[i("Voc\xEA pode "),t("strong",null," imprimir o boleto "),i(" e pagar no banco")])]),t("div",{class:"tw-flex tw-items-center tw-mb-3"},[t("svg",{class:"tw-max-w-[40px]",id:"icon-barcode-rounded",viewBox:"0 0 64 64"},[t("path",{fill:"#666",d:"M 32 0 A 32 32 0 0 0 0 32 A 32 32 0 0 0 32 64 A 32 32 0 0 0 64 32 A 32 32 0 0 0 32 0 z M 15.7 16 L 49.3 16 C 50.8 16 52 17.2 52 18.7 L 52 20 L 49 20 L 49 19.9 C 49 19.4 48.6 19 48.1 19 L 16.9 19 C 16.4 19 16 19.4 16 19.9 L 16 38.1 C 16 38.6 16.4 39 16.9 39 L 48.1 39 C 48.6 39 49 38.6 49 38.1 L 49 37 L 52 37 L 52 39.3 C 52 40.8 50.8 42 49.3 42 L 15.7 42 C 14.2 42 13 40.8 13 39.3 L 13 18.7 C 13 17.2 14.2 16 15.7 16 z M 36 22 L 57 22 L 57 35 L 36 35 L 36 22 z M 39 24 L 39 33 L 41 33 L 41 24 L 39 24 z M 43 24 L 43 33 L 44 33 L 44 24 L 43 24 z M 45 24 L 45 33 L 46 33 L 46 24 L 45 24 z M 48 24 L 48 33 L 50 33 L 50 24 L 48 24 z M 52 24 L 52 33 L 53 33 L 53 24 L 52 24 z M 54 24 L 54 33 L 55 33 L 55 24 L 54 24 z M 10 44 L 28 44 C 28 44.6 28.4 45 29 45 L 37 45 C 37.5 45 38 44.6 38 44 L 54 44 C 54.6 44 54.8 44.4 54.5 44.9 L 53.4 47.1 C 53.2 47.6 52.5 48 52 48 L 12 48 C 11.5 48 10.8 47.6 10.6 47.1 L 9.5 44.9 C 9.2 44.4 9.5 44 10 44 z M 50 45 C 49.4 45 49 45.4 49 46 C 49 46.6 49.4 47 50 47 C 50.6 47 51 46.6 51 46 C 51 45.4 50.6 45 50 45 z "})]),t("span",{class:"ml-3"},[i("Ou pode "),t("strong",null," pagar pela internet "),i(" utilizando o c\xF3digo de barras do boleto")])]),t("div",{class:"tw-flex tw-items-center tw-mb-3"},[t("svg",{class:"tw-max-w-[40px]",id:"icon-calendar-rounded",viewBox:"0 0 64 64"},[t("path",{fill:"#666",d:"M 32 0 C 14.3 0 0 14.3 0 32 C 0 49.7 14.3 64 32 64 C 49.7 64 64 49.7 64 32 C 64 14.3 49.7 0 32 0 z M 24 9 C 25.1 9 26 9.9 26 11 L 26 18 C 26 19.1 25.1 20 24 20 C 22.9 20 22 19.1 22 18 L 22 11 C 22 9.9 22.9 9 24 9 z M 40 9 C 41.1 9 42 9.9 42 11 L 42 18 C 42 19.1 41.1 20 40 20 C 38.9 20 38 19.1 38 18 L 38 11 C 38 9.9 38.9 9 40 9 z M 14 15 L 20 15 L 20 18.4 C 20 20.4 21.6 22 23.6 22 L 24.4 22 C 26.4 22 28 20.4 28 18.4 L 28 15 L 36 15 L 36 18.4 C 36 20.4 37.6 22 39.6 22 L 40.4 22 C 42.4 22 44 20.4 44 18.4 L 44 15 L 50 15 C 50.6 15 51 15.5 51 16 L 51 48 C 51 48.6 50.5 49 50 49 L 14 49 C 13.4 49 13 48.5 13 48 L 13 16 C 13 15.4 13.5 15 14 15 z M 16 24.3 L 16 45.3 L 48 45.3 L 48 24.3 L 16 24.3 z "})]),t("span",{class:"ml-3"},[i(" Lembrando que o prazo de validade do boleto \xE9 de "),t("strong",null," 1 dia util ")])])],-1),ne={class:"tw-flex tw-justify-center"},de=i(" Finalizar compra"),re=t("div",{class:"tw-flex tw-justify-between"},[t("h2",{class:"tw-font-bold tw-text-xl"},[t("span",null,"Muito bem!")])],-1),ue={class:"tw-w-full tw-max-w-2xl tw-mt-4"},me=t("br",null,null,-1),pe=t("br",null,null,-1),ce=i(" Voc\xEA pode conferir seus pixels clicando no bot\xE3o abaixo: "),Le=i(" Ir para meus pedidos ");function fe(e,s,r,c,L,we){const C=n("va-card-content"),h=n("va-card"),x=n("PixelSumCard"),_=n("va-tab"),M=n("va-tabs"),f=n("va-input"),w=n("va-button"),g=n("va-form"),V=n("va-modal");return d(),u("div",U,[t("div",q,[a(h,null,{default:l(()=>[a(C,null,{default:l(()=>[B]),_:1})]),_:1})]),e.cart?(d(),u("div",O,[t("div",K,[a(x,{pixels:e.cart.pixels},null,8,["pixels"])]),t("div",Q,[a(h,null,{default:l(()=>[a(C,null,{default:l(()=>[t("div",j,[a(M,{grow:"",modelValue:e.tabValue,"onUpdate:modelValue":s[1]||(s[1]=o=>e.tabValue=o),style:{width:"100%"}},{tabs:l(()=>[(d(!0),u(k,null,$(e.tabTitles.slice(0,3),o=>(d(),A(_,{onClick:s[0]||(s[0]=ve=>e.onTabChange()),key:o},{default:l(()=>[i(b(o),1)]),_:2},1024))),128))]),_:1},8,["modelValue"]),e.tabValue===0?(d(),u("div",G,[t("div",X,[a(g,{ref:"formAddress",onValidation:s[7]||(s[7]=o=>e.validation=o)},{default:l(()=>[t("div",Y,[a(f,{modelValue:e.formData.cardNumber,"onUpdate:modelValue":s[2]||(s[2]=o=>e.formData.cardNumber=o),type:"number",label:"N\xFAmero do cart\xE3o",rules:[e.fieldsValidations.required,e.fieldsValidations.number]},null,8,["modelValue","rules"])]),t("div",H,[a(f,{modelValue:e.formData.cardName,"onUpdate:modelValue":s[3]||(s[3]=o=>e.formData.cardName=o),type:"string",label:"Titular do cart\xE3o",rules:[e.fieldsValidations.required]},null,8,["modelValue","rules"])]),t("div",J,[a(f,{modelValue:e.formData.expirationDate,"onUpdate:modelValue":s[4]||(s[4]=o=>e.formData.expirationDate=o),type:"string",label:"Validade",onKeydown:e.onKeyup,rules:[e.fieldsValidations.required]},null,8,["modelValue","onKeydown","rules"]),a(f,{class:"tw-ml-2",modelValue:e.formData.cvv,"onUpdate:modelValue":s[5]||(s[5]=o=>e.formData.cvv=o),type:"string",label:"C\xF3digo de seguran\xE7a (cvv)",rules:[e.fieldsValidations.required,e.fieldsValidations.maxLength(3)]},null,8,["modelValue","rules"])]),t("div",W,[a(w,{onClick:s[6]||(s[6]=o=>e.finalizeQuote()),class:"mr-2 mb-2"},{default:l(()=>[Z]),_:1})])]),_:1},512)])])):v("",!0),e.tabValue===1?(d(),u("div",ee,[t("div",te,[se,t("div",oe,[a(w,{onClick:s[8]||(s[8]=o=>e.finalizeQuote()),class:"mr-2 mb-2"},{default:l(()=>[ae]),_:1})])])])):v("",!0),e.tabValue===2?(d(),u("div",{key:2,onClick:s[10]||(s[10]=o=>e.onTabChange(3)),class:"row"},[t("div",le,[ie,t("div",ne,[a(w,{onClick:s[9]||(s[9]=o=>e.finalizeQuote()),class:"mr-2 mb-2"},{default:l(()=>[de]),_:1})])])])):v("",!0)])]),_:1})]),_:1})])])):v("",!0),a(V,{modelValue:e.showMessageModal,"onUpdate:modelValue":s[12]||(s[12]=o=>e.showMessageModal=o),"hide-default-actions":"","overlay-opacity":"0.2"},{header:l(()=>[re]),footer:l(()=>[a(w,{onClick:s[11]||(s[11]=o=>e.goToMyOrders())},{default:l(()=>[Le]),_:1})]),default:l(()=>[S(e.$slots,"default",{},()=>[t("div",ue,[i(b(e.responseMessage)+" ",1),me,pe,ce])])]),_:3},8,["modelValue"])])}var _e=E(F,[["render",fe]]);export{_e as default};

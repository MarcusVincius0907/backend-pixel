import{d as E,h as m,i as h,j as $,_ as y,r as i,o as c,c as A,b as o,w as n,a as s,g as w,k as I,e as b}from"./index.f324766f.js";import{f as S}from"./fieldValidations.55b02bef.js";const F=E({props:{hideSaveButton:{type:Boolean,default:!1}},setup(){return{formData:m({email:"",name:"",cpf:"",cell:"",birthDate:new Date}),fieldsValidations:S,validation:m(null),timeout:m(0)}},mounted(){this.$store.state.user&&(this.formData=this.assign(this.$store.state.user))},computed:{generalInfo(){return this.$store.state.user},email(){var e;return(e=this.$store.state.user)==null?void 0:e.email}},methods:{saveFormData(e){e&&(this.$store.commit(h.SET_FORM_GENERAL_INFO,this.formData),this.$store.dispatch($.UPDATE_GENERA_INFO))},validate(){return this.$refs.formGeneralInfo.validate()},formatDate(e){return new Date(e)},assign(e){var t,p,v,D,V,l,r,f,u;return{email:(t=e==null?void 0:e.email)!=null?t:"",name:(v=(p=e==null?void 0:e.name)!=null?p:this.formData.name)!=null?v:"",cpf:(V=(D=e==null?void 0:e.cpf)!=null?D:this.formData.cpf)!=null?V:"",cell:(r=(l=e==null?void 0:e.cell)!=null?l:this.formData.cell)!=null?r:"",birthDate:this.formatDate((u=(f=e==null?void 0:e.birthDate)!=null?f:this.formData.birthDate)!=null?u:"")}}},watch:{generalInfo:{handler(e){this.formData=this.assign(e)},deep:!0},formData:{handler(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.$store.commit(h.SET_FORM_GENERAL_INFO,e)},300)},deep:!0}}}),N=s("div",{class:"mb-3 tw-font-bold"},"Informa\xE7\xF5es Gerais",-1),B={class:"row"},U={class:"flex md4 sm6 xs12"},C={class:"flex md4 sm6 xs12"},T={class:"flex md4 sm6 xs12"},R={class:"flex md4 sm6 xs12"},g={class:"flex md4 sm6 xs12"},O=b(" Salvar");function k(e,t,p,v,D,V){const l=i("va-input"),r=i("va-date-input"),f=i("va-button"),u=i("va-form"),_=i("va-card-content"),a=i("va-card");return c(),A("div",null,[o(a,null,{default:n(()=>[o(_,null,{default:n(()=>[N,o(u,{ref:"formGeneralInfo",onValidation:t[6]||(t[6]=d=>e.validation=d)},{default:n(()=>[s("div",B,[s("div",U,[o(l,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=d=>e.email=d),type:"email",label:"Email",disabled:""},null,8,["modelValue"])]),s("div",C,[o(l,{modelValue:e.formData.name,"onUpdate:modelValue":t[1]||(t[1]=d=>e.formData.name=d),type:"text",label:"Nome Completo",rules:e.fieldsValidations.required},null,8,["modelValue","rules"])]),s("div",T,[o(l,{modelValue:e.formData.cpf,"onUpdate:modelValue":t[2]||(t[2]=d=>e.formData.cpf=d),value:e.hello,type:"text",label:"CPF",rules:[e.fieldsValidations.required,e.fieldsValidations.cpf,e.fieldsValidations.maxLength(11)]},null,8,["modelValue","value","rules"])]),s("div",R,[o(l,{modelValue:e.formData.cell,"onUpdate:modelValue":t[3]||(t[3]=d=>e.formData.cell=d),type:"text",label:"Celular",rules:[e.fieldsValidations.required,e.fieldsValidations.maxLength(13),e.fieldsValidations.number]},null,8,["modelValue","rules"])]),s("div",g,[o(r,{modelValue:e.formData.birthDate,"onUpdate:modelValue":t[4]||(t[4]=d=>e.formData.birthDate=d),label:"Data de Nascimento"},null,8,["modelValue"])])]),e.hideSaveButton?I("",!0):(c(),w(f,{key:0,onClick:t[5]||(t[5]=d=>e.saveFormData(e.$refs.formGeneralInfo.validate())),class:"mr-2 mb-2"},{default:n(()=>[O]),_:1}))]),_:1},512)]),_:1})]),_:1})])}var ae=y(F,[["render",k]]);const q=E({props:{hideSaveButton:Boolean},setup(){return{formData:m({zipcode:"",street:"",number:"",district:"",city:"",state:"",complement:""}),fieldsValidations:S,validation:m(null),userService:m(),timeout:m(0)}},mounted(){var e,t;(e=this.$store.state.user)!=null&&e.addressInfo&&(this.formData=(t=this.$store.state.user)==null?void 0:t.addressInfo)},computed:{addressInfo(){var e;return(e=this.$store.state.user)==null?void 0:e.addressInfo}},methods:{saveFormData(e){e&&(this.$store.commit(h.SET_FORM_ADDRESS_INFO,this.formData),this.$store.dispatch($.UPDATE_ADDRESS_INFO))},getAddressByZipcode(){this.formData&&this.formData.zipcode&&this.$store.dispatch($.REQUEST_ADDRESS_BY_ZIPCODE,this.formData.zipcode)},validate(){return this.$refs.formAddress.validate()}},watch:{addressInfo(e){this.formData=e},formData:{handler(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.$store.commit(h.SET_FORM_ADDRESS_INFO,e)},300)},deep:!0}}}),G=s("div",{class:"mb-3 tw-font-bold"},"Endere\xE7o",-1),z={class:"row"},L={class:"tw-flex tw-w-full"},M={class:"tw-w-2/3 flex md4 sm6 xs12"},P={class:"tw-w-1/3 tw-flex tw-justify-start tw-items-center"},Z=b(" Buscar"),j={class:"row"},Q={class:"flex md4 sm6 xs12"},Y={class:"flex md4 sm6 xs12"},x={class:"flex md4 sm6 xs12"},H={class:"flex md4 sm6 xs12"},J={class:"flex md4 sm6 xs12"},K={class:"flex md4 sm6 xs12"},W=b(" Salvar");function X(e,t,p,v,D,V){const l=i("va-input"),r=i("va-button"),f=i("va-form"),u=i("va-card-content"),_=i("va-card");return c(),A("div",null,[o(_,null,{default:n(()=>[o(u,null,{default:n(()=>[G,o(f,{ref:"formAddress",onValidation:t[9]||(t[9]=a=>e.validation=a)},{default:n(()=>[s("div",z,[s("div",L,[s("div",M,[o(l,{modelValue:e.formData.zipcode,"onUpdate:modelValue":t[0]||(t[0]=a=>e.formData.zipcode=a),type:"number",label:"CEP",rules:[e.fieldsValidations.required,e.fieldsValidations.maxLength(8)]},null,8,["modelValue","rules"])]),s("div",P,[o(r,{class:"",size:"small",onClick:t[1]||(t[1]=a=>e.getAddressByZipcode())},{default:n(()=>[Z]),_:1})])])]),s("div",j,[s("div",Q,[o(l,{modelValue:e.formData.street,"onUpdate:modelValue":t[2]||(t[2]=a=>e.formData.street=a),type:"text",label:"Rua",rules:e.fieldsValidations.required},null,8,["modelValue","rules"])]),s("div",Y,[o(l,{modelValue:e.formData.number,"onUpdate:modelValue":t[3]||(t[3]=a=>e.formData.number=a),type:"text",label:"N\xFAmero",rules:e.fieldsValidations.required},null,8,["modelValue","rules"])]),s("div",x,[o(l,{modelValue:e.formData.complement,"onUpdate:modelValue":t[4]||(t[4]=a=>e.formData.complement=a),type:"text",label:"Complemento (opcional)"},null,8,["modelValue"])]),s("div",H,[o(l,{modelValue:e.formData.district,"onUpdate:modelValue":t[5]||(t[5]=a=>e.formData.district=a),type:"text",label:"Bairro",rules:e.fieldsValidations.required},null,8,["modelValue","rules"])]),s("div",J,[o(l,{modelValue:e.formData.city,"onUpdate:modelValue":t[6]||(t[6]=a=>e.formData.city=a),type:"text",label:"Cidade",rules:e.fieldsValidations.required},null,8,["modelValue","rules"])]),s("div",K,[o(l,{label:"Estado",modelValue:e.formData.state,"onUpdate:modelValue":t[7]||(t[7]=a=>e.formData.state=a),type:"text",rules:e.fieldsValidations.required},null,8,["modelValue","rules"])])]),e.hideSaveButton?I("",!0):(c(),w(r,{key:0,onClick:t[8]||(t[8]=a=>e.saveFormData(e.$refs.formAddress.validate())),class:"mr-2 mb-2"},{default:n(()=>[W]),_:1}))]),_:1},512)]),_:1})]),_:1})])}var oe=y(q,[["render",X]]);export{oe as A,ae as G};
